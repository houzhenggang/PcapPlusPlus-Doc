<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>PcapPlusPlus: PcapFileWriterDevice Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PcapPlusPlus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00041.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="a00146.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PcapFileWriterDevice Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="a00085_source.html">PcapFileDevice.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PcapFileWriterDevice:</div>
<div class="dyncontent">
 <div class="center">
  <img src="a00041.png" usemap="#PcapFileWriterDevice_map" alt=""/>
  <map id="PcapFileWriterDevice_map" name="PcapFileWriterDevice_map">
<area href="a00023.html" alt="IPcapFileDevice" shape="rect" coords="0,56,136,80"/>
<area href="a00022.html" alt="IPcapDevice" shape="rect" coords="0,0,136,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aefaeb7785c8cd5ca8b6e074156c471ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00041.html#aefaeb7785c8cd5ca8b6e074156c471ae">PcapFileWriterDevice</a> (const char *fileName)</td></tr>
<tr class="separator:aefaeb7785c8cd5ca8b6e074156c471ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491876c2591081b58313da654a704f8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00041.html#a491876c2591081b58313da654a704f8d">~PcapFileWriterDevice</a> ()</td></tr>
<tr class="separator:a491876c2591081b58313da654a704f8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6263c0850be603c60b8ba057d879a593"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00041.html#a6263c0850be603c60b8ba057d879a593">writePacket</a> (<a class="el" href="a00053.html">RawPacket</a> const &amp;packet)</td></tr>
<tr class="separator:a6263c0850be603c60b8ba057d879a593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a472db9de9ac4f9f440f752385c0436e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00041.html#a472db9de9ac4f9f440f752385c0436e6">writePackets</a> (const <a class="el" href="a00084.html#aa1427ba2ba13978d3b19b3fc7f25c15d">RawPacketVector</a> &amp;packets)</td></tr>
<tr class="separator:a472db9de9ac4f9f440f752385c0436e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8053b6b8abafd7de893fce117b8d2413"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00041.html#a8053b6b8abafd7de893fce117b8d2413">open</a> ()</td></tr>
<tr class="separator:a8053b6b8abafd7de893fce117b8d2413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534e2029cb4de050e6a55de39dc9aa9a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00041.html#a534e2029cb4de050e6a55de39dc9aa9a">close</a> ()</td></tr>
<tr class="separator:a534e2029cb4de050e6a55de39dc9aa9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c2c246a4447cc48ebae8f48f69d81d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00041.html#ac0c2c246a4447cc48ebae8f48f69d81d">getStatistics</a> (pcap_stat &amp;stats)</td></tr>
<tr class="separator:ac0c2c246a4447cc48ebae8f48f69d81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a00023"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a00023')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="a00023.html">IPcapFileDevice</a></td></tr>
<tr class="memitem:a1fc1dbf53910c72959d967c376f254ce inherit pub_methods_a00023"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00023.html#a1fc1dbf53910c72959d967c376f254ce">isOpened</a> ()</td></tr>
<tr class="separator:a1fc1dbf53910c72959d967c376f254ce inherit pub_methods_a00023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a00022"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a00022')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="a00022.html">IPcapDevice</a></td></tr>
<tr class="memitem:ac8167b330a4ee85ab759facd0d4989bd inherit pub_methods_a00022"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#ac8167b330a4ee85ab759facd0d4989bd">setFilter</a> (<a class="el" href="a00009.html">GeneralFilter</a> &amp;filter)</td></tr>
<tr class="separator:ac8167b330a4ee85ab759facd0d4989bd inherit pub_methods_a00022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e872140261fa1c824ae249f888d691 inherit pub_methods_a00022"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00022.html#a35e872140261fa1c824ae249f888d691">setFilter</a> (string filterAsString)</td></tr>
<tr class="separator:a35e872140261fa1c824ae249f888d691 inherit pub_methods_a00022"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class for opening a pcap file for writing or create a new pcap file and write packets to it </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aefaeb7785c8cd5ca8b6e074156c471ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PcapFileWriterDevice::PcapFileWriterDevice </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A constructor for this class that gets the pcap full path file name to open for writing or create. Notice that after calling this constructor the file isn't opened yet, so writing packets will fail. For opening the file call <a class="el" href="a00041.html#a8053b6b8abafd7de893fce117b8d2413">open()</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileName</td><td>The full path of the file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a491876c2591081b58313da654a704f8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PcapFileWriterDevice::~PcapFileWriterDevice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A destructor for this class </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a534e2029cb4de050e6a55de39dc9aa9a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void PcapFileWriterDevice::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flush and close the pacp file </p>

<p>Reimplemented from <a class="el" href="a00023.html#aeac5956145508b5f4883dbb688fdbe3b">IPcapFileDevice</a>.</p>

</div>
</div>
<a class="anchor" id="ac0c2c246a4447cc48ebae8f48f69d81d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void PcapFileWriterDevice::getStatistics </td>
          <td>(</td>
          <td class="paramtype">pcap_stat &amp;&#160;</td>
          <td class="paramname"><em>stats</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get statistics of packets written so far. In the pcap_stat struct, only ps_recv member is relevant. The rest of the members will contain 0 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">stats</td><td>The stats struct where stats are returned </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="a00022.html#abfddac7872baed093efc622259f51fc6">IPcapDevice</a>.</p>

</div>
</div>
<a class="anchor" id="a8053b6b8abafd7de893fce117b8d2413"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool PcapFileWriterDevice::open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Open the file name which path was specified in the constructor in a write mode. If file doesn't exist, it will be created </p><dl class="section return"><dt>Returns</dt><dd>True if file was opened/created successfully or if file is already opened. False if opening the file failed for some reason (an error will be printed to log) </dd></dl>

<p>Implements <a class="el" href="a00022.html#a94a6922dff88e4bea4b3904a60e6f0e9">IPcapDevice</a>.</p>

</div>
</div>
<a class="anchor" id="a6263c0850be603c60b8ba057d879a593"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PcapFileWriterDevice::writePacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00053.html">RawPacket</a> const &amp;&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write a <a class="el" href="a00053.html">RawPacket</a> to the file. Before using this method please verify the file is opened using <a class="el" href="a00041.html#a8053b6b8abafd7de893fce117b8d2413">open()</a>. This method won't change the written packet </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">packet</td><td>A reference for an existing RawPcket to write to the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if a packet was written successfully. False will be returned if the file isn't opened (also, an error will be printed to log) </dd></dl>

</div>
</div>
<a class="anchor" id="a472db9de9ac4f9f440f752385c0436e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PcapFileWriterDevice::writePackets </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00084.html#aa1427ba2ba13978d3b19b3fc7f25c15d">RawPacketVector</a> &amp;&#160;</td>
          <td class="paramname"><em>packets</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write multiple <a class="el" href="a00053.html">RawPacket</a> to the file. Before using this method please verify the file is opened using <a class="el" href="a00041.html#a8053b6b8abafd7de893fce117b8d2413">open()</a>. This method won't change the written packets or the RawPacketVector instance </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">packets</td><td>A reference for an existing RawPcketVector, all of its packets will be written to the file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if all packets were written successfully to the file. False will be returned if the file isn't opened (also, an error log will be printed) or if at least one of the packets wasn't written successfully to the file </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a00041.html">PcapFileWriterDevice</a></li>
    <li class="footer">Generated on Mon Mar 30 2015 23:28:23 for PcapPlusPlus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
